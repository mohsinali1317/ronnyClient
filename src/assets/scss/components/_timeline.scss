.experience {
  background: $another-grey;
}

.timeline {
  overflow: hidden;

  &--no-divider-spacing {
    padding-top: px-to-rem(0);
  }

  &__container {
    position: relative;
    padding: px-to-rem(20) px-to-rem(0);

    &:before {
      content: '';
      position: absolute;
      top: px-to-rem(0);
      height: 100%;
      width: px-to-rem(4);
      background-color: $bluejay;
      left: px-to-rem(26);

      @include breakpoint(tablet, min-width) {
        @include breakpoint(desktop, max-width) {
          left: px-to-rem(18);
        }
      }

      @include breakpoint(desktop, min-width) {
        left: 50%;
        transform: translateX(-50%);
      }
    }
  }

  &__heading {
    margin: px-to-rem(20) px-to-rem(0) px-to-rem(10) px-to-rem(0);
    text-transform: capitalize;
    color: $black;
  }

  &__body-copy {
    margin-bottom: px-to-rem(30);
    color: $black;
  }

  &__read-more {
    @include browser-prefix('border-radius', '28px');
    @include browser-prefix('transition', 'all 500ms ease');
    background-color: $white;
    width: px-to-rem(180);
    height: px-to-rem(40);
    font: var(--font-body-copy);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    text-decoration: none;

    &:hover {
      background-color: $navy;

      .timeline__read-more--text {
        color: $white;
      }
    }

    &--text {
      color: $bluejay;
      text-transform: uppercase;
    }
  }

  &__list {
    padding-left: px-to-rem(0);
    list-style-type: none;
    margin-bottom: px-to-rem(15);

    &--item {
      display: inline-block;
      color: $bluejay;
      background-color: $white;
      font: var(--font-smallest-print);
      padding: px-to-rem(5);
      margin: px-to-rem(5) px-to-rem(5) px-to-rem(0) px-to-rem(0);
    }
  }

  &__hidden-body {
    @include browser-prefix('transition', 'all 500ms ease');
    height: px-to-rem(0);
    
    &.is-open {
      height: auto;

      p {
        display: block;
      }
    }

    p {
      display: none;
    }
  }

  &__date {
    display: flex;
    justify-content: space-between;
    align-items: center;

    &--stamp {
      position: relative;
      width: 100%;
      top: px-to-rem(0);
      text-transform: uppercase;
      color: $white;
      font: var(--font-small-print);
      margin-bottom: px-to-rem(10);

      @include breakpoint(desktop, min-width) {
        position: absolute;
        top: px-to-rem(20);
        color: $dark-grey;
        margin-bottom: px-to-rem(0);
      }
    }
  }

  &__content {
    @include browser-prefix('box-shadow', '0 3px 0 hsl(205, 38%, 89%)');
    flex-grow: 1;
    position: relative;
    margin-left: px-to-rem(15);
    background-color: $bluejay;
    padding: px-to-rem(15);

    &:before {
      content: '';
      position: absolute;
      top: px-to-rem(16);
    }

    @include breakpoint(desktop, min-width) {
      width: 45%;
      flex-grow: 0;
      will-change: transform;
      margin: px-to-rem(0);
      font-size: px-to-rem(12);

      &:before {
        top: px-to-rem(24);
      }
    }
  }

  &__img {
    @include browser-prefix('border-radius', '50%');
    @include browser-prefix('box-shadow', '0px 0px 0px 4px $white, inset 0px 2px 0px rgba($black, 0.08), 0px 3px 0px 4px rgba($black, 0.05)');
    display: flex;
    justify-content: center;
    align-items: center;
    flex-shrink: 0;
    width: px-to-rem(50);
    height: px-to-rem(50);

    @include breakpoint(desktop, min-width) {
      width: px-to-rem(60);
      height: px-to-rem(60);
      order: 1;
      margin-left: calc(5% - 30px);
      will-change: transform;
    }  

    &--icon {
      width: px-to-rem(32);
      height: px-to-rem(32);
      background-repeat: no-repeat;
      background-size: cover;
    }

    &.itech {
      background-color: $itech;

      .timeline__img--icon {
        background-image: url('../media/images/companies/icon/itech.png');
      }
    }

    &.pma {
      background-color: $black;

      .timeline__img--icon {
        background-image: url('../media/images/companies/icon/pma.png');
      }
    }

    &.thoughtbubble {
      background-color: $thoughtbubble;

      .timeline__img--icon {
        background-image: url('../media/images/companies/icon/thoughtbubble.png');
      }
    }

    &.optimax {
      background-color: $white;

      .timeline__img--icon {
        background-image: url('../media/images/companies/icon/optimax.png');
      }
    }

    &.antonpaar {
      background-color: $white;

      .timeline__img--icon {
        background-image: url('../media/images/companies/icon/antonpaar.png');
      }
    }

    &.argos {
      background-color: $argos;

      .timeline__img--icon {
        background-image: url('../media/images/companies/icon/argos.png');
      }
    }

    &.bestandco {
      background-color: $light-grey;

      .timeline__img--icon {
        background-image: url('../media/images/companies/icon/bestandco.png');
      }
    }

    img {
      height: auto;
      max-width: 100%;
    }
  }

  &__section {
    margin-bottom: px-to-rem(20);
    display: flex;
    position: relative;
    z-index: 1;
    padding-left: px-to-rem(5);

    &:nth-child(even) {
      .timeline__date--stamp {
        @include breakpoint(desktop, min-width) {
          right: 122%;
          text-align: right;
        }
      }
    }
    
    &:nth-child(odd) {
      .timeline__date--stamp {
        @include breakpoint(desktop, min-width) {
          left: 122%;
        }
      }
    }

    @include breakpoint(desktop, min-width) {
      padding-left: px-to-rem(0);

      &:nth-child(even) {
        flex-direction: row-reverse;

        .timeline__img {
          margin-right: calc(5% - 30px);
        }
      }
      
      &:nth-child(odd) {
        .timeline__content {
          &:before {
            right: auto;
            left: 100%;
            width: px-to-rem(0);
            height: px-to-rem(0);
            border: px-to-rem(10) solid transparent;
            border-left-color: $bluejay;
          }
        }
      }
    }

    &:last-child {
      margin-bottom: px-to-rem(0);
    }

    p {
      margin-bottom: px-to-rem(15);
      color: $white;
    }

    &--heading {
      text-transform: uppercase;
      margin: px-to-rem(10) px-to-rem(0);
      color: $white;
    }
  }  
}
